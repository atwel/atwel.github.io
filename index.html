<!DOCTYPE html>
<head>
<meta charset="utf-8">
<title>jon atwell : homepage</title>
<link type="text/css" rel="stylesheet" href="style.css"/>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60671792-1', 'auto');
  ga('send', 'pageview');

window.mobilecheck = function() {
    var check = false;
    (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
    if(!!window.chrome && !!window.chrome.webstore)
    {
        check = false;

    }
    return check;
  };
function menu_overlay(val,count) {
    if (val){
    window.document.getElementById("overlay2").style.display = "block";
    if (count==1){window.document.getElementById("researchtext").style.display = "block";}
    else if (count==2){window.document.getElementById("teachingtext").style.display = "block";}
    else if (count==3){window.document.getElementById("abouttext").style.display = "block";}
    else if (count==4){window.document.getElementById("linktext").style.display = "block";}
}else{window.document.getElementById("overlay2").style.display = "none";
    window.document.getElementById("researchtext").style.display = "none";
    window.document.getElementById("teachingtext").style.display = "none";
    window.document.getElementById("abouttext").style.display = "none";
    window.document.getElementById("linktext").style.display = "none";}
}

</script>
</head>



<body>
    <div>

      <div id="overlay" onclick=off()>
          <div id="text1">Hover, drag and click to explore my research map</div>
          <div id="text2">Hover, drag and click to explore my research map<br><span style="font-size:20px;">(This site is not optimized for mobile browsers)</span></div>

      </div>

      <div id="overlay2" onclick=menu_overlay(false)></div>
      <div id="researchtext"><br><br><br>
      <h3> research summary</h3><br>
      <h4>

      	<p>In my work, I explore the dynamics of the emergence of shared understandings by quantifying both direct (network-related) and indirect sources of information about local social order. I draw on cultural and information theory, cognitive science, and dynamical systems research, and have used formal modeling, social network analysis, behavioral experiments, and computational text analyses. My dissertation work focuses on the consequences of indirect, extra-network sources of information about others’ activities. The first paper mathematically links a canonical model of self-organization to the evolutionary concept of niche construction to show that the addition of indirect, niche-facilitated communication allows for more complex social dependencies to emerge. The second paper quantifies the informational value of an indirect source in a large-group coordination experiment, finding it can help enable successful coordination and yields more information than additional weak ties. Finally, I use a cutting-edge form of topic modeling to find evidence that users of an online book review-and-discussion forum collectively produce the public meanings of works of literary fiction. The manuscript from the second project is currently under review and I have work published in Sociological Methods and Research and the general science journal PLOS One.</p>

      	<p>Building on the above research, I am working on several other projects. Along with Beth Redbird, I have access to the last 18 months of cellphone geotracking data for an approximately-representative sample of 5% of the population of the United States. My next step is to construct the individuals-to-places (i.e. ecological) networks to estimate the degree to which our use of physical space crosscuts—in the sense of Blau and Schwartz—other forms of affiliation such as race and class. The more crosscutting exists, the more potential for individuals to interact indirectly and learn about the behaviors of otherwise socially distant individuals. Similar data sources have been used to understand patterns of human mobility, but only in isolation and not in reference to macroscopic social patterns. Future extensions will focus on crosscutting in contexts like workplaces and public spaces, such as parks and commercial districts.</p>

        <p>Another major area of research of mine in the coming years will be clarifying the usefulness of textual data for understanding mental representations in individuals and groups. Pragmatist philosophers and linguists have argued there is a complex relationship between the representations individuals have and the text they produce; text and speech most often expounds on what is not obvious to readers and interlocutors, with obvious or otherwise shared meanings often omitted. There is also a great deal of heterogeneity in representations when looking at populations of the size typically used in computational analyses of text. These two features of cognition and language are extremely important for how sociologists think about culture and cognition, but are downplayed in current computational approaches to text. With Lynette Shaw, I am developing a formal model of these features and an experimental protocol for assessing the relationship between individuals’ representations and the text they produce. The protocol will link survey items and text from a group interactive text-producing process and, I believe, provide important insights into the strengths and weaknesses of textual data for inferring the mental representations of both individuals and groups.
        </p>

      	<p>I use a variety of methods to carry out this research agenda. It is very much motivated by insights I've gain through mathematical and agent-based modeling, but the natural limitations of those approaches have lead me to use behavioral experiments, more traditional statistical analyses, and newer data science techniques. I've found that each approach has informed the others and I am now a strong proponent of methodological eclecticism.</p>

      	<p>The research map on my homepage provides an overview of my current projects and I will soon add more details here.</p>
    </h4></div>
    <div id="teachingtext">
    <h3> teaching </h3><br>

    <h4><p>I have experience teaching innovative, hands-on courses in computational social science. I started developing these materials when I taught my own undergraduate course at the University of Michigan and have honed them through standalone workshops and a graduate short-course I led this summer at Northwestern. I am really excited about teaching workshops on computational skills because I see them having a role in everyone's workflow and as useful for all sorts of research approaches.</p>

    <p>I have also been a teaching assistant for a range of undergraduate courses and can teach undergraduate and graduate courses in culture and knowledge, economic sociology and organizational theory, complex systems, statistics, social networks, experimental design, and agent-based modeling.</p>
    </h4>

    </div>
    <div id="abouttext">
        <h3> jon scherm atwell</h3>
<a><img src="biopic.png" width="175" halign="right"></a>
<h4><p> I did my doctorate in sociology at the University of Michigan, where I was an NSF IGERT fellow with the Center for the Study of Complex Systems. I am now a Data Science Scholar at Northwestern University. My interests are ever-evolving, but I generally study the social dimensions of cognition and the dynamic emergence of social order using computational and mathematical techniques. I studied Math, Economics and Philosophy at the University of Wisconsin and worked in the restaurant industry before starting my career.</p>

<p>My dissertation committee was Mark Mizruchi (Sociology, co-chair), Elizabeth Bruch (Sociology, co-chair), John Padgett (Political Science, University of Chicago), Robert Savit (Physics), and Scott E. Page (Complex Systems and Economics).</p>
<p>My email is atwell at northwestern.edu</p>
<p>I don't really tweet as jon_atwell</h4>

</div>
<div id="linktext">
<h3>Some links</h3><br>
<h4><a href="https://atwel.github.io/ProgrammingTutorials/">computational social science labs</a></h4>
<h4><a href="https://computing-essentials-for-social-science.github.io/CESS-2018/">Computational Essentials for Social Science materials</a></h4>
<h4><a href="http://github.com/atwel">My Github repository</a></h4>
<h4><a href="drawnet.html">Online network drawing</a></h4>
</div>



      <div id="header"><a href="index.html">jon atwell, phd</a></div>
      <div id="spec">
        <p><span onclick=menu_overlay(true,1); style="cursor:pointer;">research</span></p>
        <p><span onclick=menu_overlay(true,2); style="cursor:pointer;">teaching</span></p>
        <p><span onclick=menu_overlay(true,3); style="cursor:pointer;">about</span></p>
        <p><span onclick=menu_overlay(true,4); style="cursor:pointer;">links</span></p>
        <p><a href="Atwell_CV_Sept_2018.pdf">cv</a></p></div>
    </div>


<script src="https://d3js.org/d3.v3.min.js"></script>



<script>

function off(){
    window.document.getElementById("overlay").style.display = "none";
}

var width = window.innerWidth*.95;
    height = window.innerHeight*.95;
    height_adjust = 0;
    size_adjust = 1;
    grav_adjust = 1;

if (window.mobilecheck()) {
   window.document.getElementById("text1").style.display = "none";
   window.document.getElementById("text2").style.display = "block";
   height = window.innerHeight*.55;
   height_adjust = window.innerHeight*.45;
   size_adjust = .5;
   grav_adjust = .5;
 }


 var nodes =[
     //themes

 {'name_text': '<div style="height:.15em"></div>Text as <br>data', 'color':'purple',"desc":"theme", 'big':35,'str_len':18, 'len':150},
 {'name_text': 'Formal<br>modeling', 'color':'purple', 'big':35,'str_len':18, 'len':250,"desc":"theme"},
 {'name_text': '<div style="height:.5em"></div>Culture', 'color':'purple', 'big':35,"desc":"theme",'str_len':18, 'len':250},
 {'name_text': '<div style="height:.5em"></div>Language', 'color':'purple', 'big':35,"desc":"theme",'str_len':18, 'len':250},
 {'name_text': 'Use of<br>Space', 'color':'purple', 'big':35,'str_len':18,"desc":"theme", 'len':250},
 {'name_text': 'Social<br>Networks', 'color':'purple', 'big':35,'str_len':18, "desc":"theme",'len':250},

 {'name_text': 'Elizabeth Bruch', 'color':'green', 'big':28,'str_len':21, 'len':100,'page':'http://www.lsa.umich.edu/soc/people/faculty/ci.bruchelizabethe_ci.detail', 'desc':'Sociology & Complex Systems<br>University of Michigan'},
 {'name_text': 'Mark Mizruchi', 'color':'green', 'big':28,'str_len':21, 'len':100,'page':'http://www-personal.umich.edu/~mizruchi/', 'desc':'Sociology & Organizational Studies<br>University of Michigan'},
 {'name_text': 'John Padgett', 'color':'green', 'big':28,'str_len':21, 'len':100,'page':'http://home.uchicago.edu/jpadgett/', 'desc':'Political Science and Sociology<br> University of Chicago'},
 {'name_text': 'Robert Savit', 'color':'green', 'big':28,'str_len':21, 'len':100,'page':'http://www.lsa.umich.edu/physics/directory/faculty/ci.savitrobert_ci.detail', 'desc':'Physics & Complex Systems<br>University of Michigan'},
 {'name_text': 'Scott Page', 'color':'green', 'big':0,'str_len':21, 'len':100,'page':'http://sites.lsa.umich.edu/scottepage/', 'desc':'Political Science, Economics, and Complex Systems<br>University of Michigan'},
 {'name_text': 'Lynette Shaw', 'color':'green', 'big':28,'str_len':21, 'len':100,'page':'https://lsa.umich.edu/cscs/people/post-docs-lecturers-visiting-scholars/shawla.html', 'desc':'Sociologist & postdoctoral scholar, Michigan Society of Fellows, University of Michigan'},
 {'name_text': 'Beth Redbird', 'color':'green', 'big':28,'str_len':21, 'len':75,'page':'https://www.sociology.northwestern.edu/people/faculty/core/beth-redbird-.html', 'desc':'Sociology, Northwestern University'},
 {'name_text': 'Martin Gerlach', 'color':'green', 'big':28,'str_len':21, 'len':75,'page':'https://martingerlach.github.io/', 'desc':'Mathematician & postdoctoral scholar, Northwestern University'},
 {'name_text': 'Chris Skovron', 'color':'green', 'big':28,'str_len':21, 'len':75,'page':'https://chrisskovron.com/', 'desc':'Political scientist & <em>Data Science Scholar</em>, Northwestern University'},

 //papers
 {'name_text': '<div style="height:.5em"></div>Markets as Generative Sites', 'color': 'blue', 'big':45, 'len':250, 'str_len':18, 'desc': 'This project was my 2nd year paper and considers the problem of how value is socially constructed in marketplaces using computational models and the empirical case of the American automobile market. I am currently seeking out a higher quality dataset.'},

 {'name_text': '<div style="height:.5em"></div>Coadaptation & Inequality', 'color': 'blue','big':45, 'str_len':17, 'len':250,'page':'http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0071828','desc':'An formal model of agents co-constructing the relationship between behaviors and rewards indirectly through a shared environment systematically produces inequality. (with Robert Savit).<br><br>Paper: \"The Emergence of Groups and Inequality Through Co-adaptation."<em> PLoS ONE</em>, 2016<br><strong>CLICK NODE TO VIEW</strong>\"'},

 {'name_text': '<div style="height:.5em"></div>Empiricizing <br>ABMs', 'color':'blue', 'big':45, 'len':250,'str_len':15, 'page':'http://smr.sagepub.com/content/44/2/186', 'desc':'Elizabeth Bruch and I propose a principled approach to empiricizing agent-based models.<br><br>Paper:\"Agent-based Models in Empirical Social Research.\"<br> <em> Sociological Methods and Research.</em> 2015<br> <strong>CLICK NODE TO VIEW</strong>'},

 {'name_text': '<div style="height:.35em"></div>Group Formation', 'color':'blue','big':45, 'len':250, 'str_len':15,'desc':'Mark Mizruchi and I have been exploring the endogenous dynamics of group formation in an issue space that a majority can manipulate. Think the spatial voting model, with networks and social influence.<br><br>Paper: \"Preferences, Group Formation<br> and Political Instability: A Dynamic Network Model\" (drafting)'},

 {'name_text': '<div style="height:.5em"></div>Emergence of Language', 'color':'blue', 'big':45, 'len':250, 'str_len':18,"desc":"In this book, John Padgett and I are extending his work that appears in <em>The Emergence of Organizations and Markets</em> to focus on the emergence of language (composable signs and meanings) from exchange relationships."},

 {'name_text': 'Extra-network<br>signals', 'color':'blue', 'big':45, 'len':250, 'str_len':16,'page':"jonatwell.com", "desc": "Humans process a lot of stimuli. Which are important for social cognition? In this large-group experiment, I show <em>extra</em>-network signals could be very important, carrying more information than other sources, including <em>weak ties</em>.<br><br>Paper: \"The Value of Unstructured Signals for Social Cognition and Coordination: Quantifying Information Gained from Extra-network Sources.\" (under review)"},

 {'name_text': 'Producing<br>new meanings', 'color':'blue', 'big':45, 'len':250, 'str_len':18,"desc":"Can online communities collectively ascribe shared meanings to a new object? Yes! Using the hierarchical stochastic blockmodeling approach to topic modeling, we explore the conditional nature of groups' production of new meanings around debut works of literary fiction (with Martin Gerlach).<br><br>Paper: \"The Production of Shared Meanings Among Readers of Literary Fiction: De- tecting an Evolution of Topics Using the Hierarchical Stochastic Blockmodeling Approach\" (revising)"},

 {'name_text': '<div style="height:.5em"></div>Ecological<br> networks', 'color':'blue', 'big':45, 'len':250, 'str_len':15,"desc":"What does the network of humans-to-places look like on a massive scale? Using hundreds of millions of location records, I'm asking our use of space is clustered like our social networks are. This working is ongoing."},

 {'name_text': 'Niche constructing hypercycle', 'color':'blue', 'big':45, 'len':250, 'str_len':18,"desc":"The hypercycle is a canonical model of self-organization but doesn't lead to particularly complex dependencies and it not very robust. I show this changes when the hypercyle is <em>niche constructing</em> in a formal sense (with John Padgett).<br><br>Paper: \"The Value of Niches for the Emergence and Stabilization of Novelty: Combining Niche Construction and Hypercycles\" (revising)"},

 {'name_text': '<div style="height:.5em"></div>Culture & Text', 'color':'blue', 'big':45, 'len':250, 'str_len':15,"desc":"What is the relationship between how individuals encode cultural representations, the text they then produce, and computational approaches to the analysis of text? Well, complicated to say the least. With Lynette Shaw, I'm developing a formal model of how people go from representations to text. This will be paired with an experimental protocol."},

 {'name_text': '<div style="height:.5em"></div><strong><em>CESS</em></strong>', 'color':'orange','big':30, 'str_len':18, 'len':100,'page':'https://computing-essentials-for-social-science.github.io/CESS-2018/','desc': 'Chris Skovron and I have developed a syballus around introducing graduate students to essential computing knowledge and skills. We taught it Summer 2018 at Northwestern University.'},

 {'name_text': 'CSS Tutorials', 'color':'orange','big':30, 'str_len':18, 'len':100,'page':'https://atwel.github.io/ProgrammingTutorials/','desc': 'Elizabeth Bruch and I have developed a series of tutorials to help introduce students to computing and computational social science. It was funded by Michigan\'s <em>Third Century Initiative</em>.'}];





var links=[

      //with EB
//{'target': 6,   'source': 15},
{'target': 6,   'source': 17},
//{'target': 6,   'source': 20},
//{'target': 6,   'source': 21},
//{'target': 6,   'source': 23},
{'target': 6,   'source': 26},
    // with MM
//{ 'target': 7,   'source': 15},
{ 'target': 7,   'source': 18},
//{ 'target': 7,   'source': 20},
//{ 'target': 7,   'source': 21},
//{ 'target': 7,   'source': 23},
    // with JP
{ 'target': 8,  'source': 19},
//{ 'target': 8,  'source': 20},
//{ 'target': 8,  'source': 21},
{ 'target': 8,  'source': 23},
  // with RS
{ 'target': 9,  'source': 16},
//{ 'target': 9,  'source': 20},
//{ 'target': 9,  'source': 21},
//{ 'target': 9,  'source': 23},
// with SP
//{ 'target': 10, 'source': 15},
//{ 'target': 10, 'source': 20},
//{ 'target': 10, 'source': 21},
//{ 'target': 10, 'source': 23},
// with BR
{ 'target': 11, 'source': 24},
// with LS
{ 'target': 12, 'source': 22},
// with MG
{ 'target': 13, 'source': 21},
// with CS
{ 'target': 14, 'source': 25},

// Markets
{ 'target': 15, 'source': 1},
{ 'target': 15, 'source': 2},
{ 'target': 15, 'source': 4},

// PLoS One
{ 'target': 16, 'source': 1},
{ 'target': 16, 'source': 2},
{ 'target': 16, 'source': 4},
// ABMs
{ 'target': 17, 'source':  1},
// Group Formation
{ 'target': 18, 'source': 1},
{ 'target': 18, 'source': 5},
// Emergence Language
{ 'target': 19, 'source': 1},
{ 'target': 19, 'source': 2},
{ 'target': 19, 'source': 3},
{ 'target': 19, 'source': 5},
// Extra-networks
{ 'target': 20, 'source': 1},
{ 'target': 20, 'source': 4},
{ 'target': 20, 'source': 5},
// New Meanings
{ 'target': 21, 'source': 0},
{ 'target': 21, 'source': 2},
{ 'target': 21, 'source': 3},
{ 'target': 21, 'source': 5},
// Eco-networks
{ 'target': 22, 'source': 4},
{ 'target': 22, 'source': 5},
// Niche + Hypercyce
{ 'target': 23, 'source': 1},
{ 'target': 23, 'source': 4},
// Culture + Text
{ 'target': 24, 'source': 0},
{ 'target': 24, 'source': 1},
{ 'target': 24, 'source': 2},
{ 'target': 24, 'source': 3}
];


var tooltip = d3.select("body")
    .append("div")
    .style("position", "absolute")
    .style("z-index", "10")
    .style("visibility", "hidden")
    .style("color", "rgba(34, 43, 49, 0.95)")
    .style("width","auto")
    .style("max-width", "300px")
    .style("padding", "8px")
    .style("background-color", "rgba(227, 241, 255, 0.85)")
    .style("border-style","solid")
    .style("border-color", "black")
    .style("border-radius", "5px")
    .style("font", "14px sans-serif")
    .text("tooltip");



var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
    .attr("transform","translate(0,"+height_adjust+")");


var link = svg.selectAll(".link"),
    node = svg.selectAll(".node");

var force = d3.layout.force()
    .nodes(nodes)
    .links(links)
    .size([width, height])
    .linkDistance(function(d) {return d.target.len*grav_adjust; })
    .charge(-4500*grav_adjust)
    .gravity(.30)
    .friction(0.75)
    .alpha(.05)
    .on("tick", tick)
    .start();

var drag = force.drag()
    .on("dragstart", dragstart);

var path = svg.append("g").selectAll("path")
    .data(force.links())
  .enter().append("path")
    .attr("class", function(d) { return "link"; })



var gnodes = svg.selectAll('gnode')
     .data(force.nodes())
     .enter()
     .append('g')
     .call(drag)
     .on("dblclick",function(d) {d.fixed = false;})
     .on("mouseover", function(d) {
              tooltip.html(d.desc);
              tooltip.style("cursor", "Default");
              tooltip.style("width", "auto");
              tooltip.style("visibility", "visible");
      })
     .on("mousemove", function() {
          return tooltip.style("top", (d3.event.pageY-10)+"px").style("left",(d3.event.pageX+10)+"px");
      })
     .on("mouseout", function(){return tooltip.style("visibility", "hidden");})
     .append("svg:a").attr("xlink:href",function(d){return d.page;}).attr("xlink:show", "new")
     .classed('gnode', true);


var circle = gnodes.append("circle")
    .attr("class", "node")
    .attr("r", function(d) {return d.big*1.3*size_adjust;})
    .attr("xlink:href",function(d){return d.page;})
    .attr("xlink:show", "new")
    .style("stroke", function(d) {return d.color;})

var labels = gnodes.append("foreignObject")
                    .attr('x', function(d) {return -d.big-5+((-1+size_adjust)*-40);})
                    .attr('y',function(d) {return -d.big/1.2*size_adjust;})
                    .attr('width', function(d) {return (d.big*2.3*size_adjust);})
                    .attr('height', function(d) {return (d.big*1.9*size_adjust);})
                    .attr("xlink:href",function(d){return d.page;})
                    .attr("xlink:show", "new")
                  .append("xhtml:body")
                    .attr("style", function (d) {return 'font-size: '+(35/d.str_len)*8*size_adjust +'px; font-family: \"Helvetica Neue\"; font-weight:300';})
                    .html(function(d) {return '<center>'+d.name_text+'</center>';})



// Use elliptical arc path segments to doubly-encode directionality.
function tick() {
    force.nodes()[0].x = width * 5/20;
    force.nodes()[0].y = height * 1/2;
    force.nodes()[3].x = width * 7/20;
    force.nodes()[3].y = height * 1/2;
    force.nodes()[2].x = width * 9/20;
    force.nodes()[2].y = height * 1/2;
    force.nodes()[1].x = width *  11/20;
    force.nodes()[1].y = height * 1/2;
    force.nodes()[4].x = width * 13/20;
    force.nodes()[4].y = height * 1/2;
    force.nodes()[5].x = width * 15/20;
    force.nodes()[5].y = height * 1/2;

    force.nodes()[25].x = width * 8/10;
    force.nodes()[25].y = height * 1/6;

  path.attr("d", linkArc);
  gnodes.attr("transform", transform);
}

function linkArc(d) {
  var inc = .25,
      dx = d.target.x - d.source.x,
      dy = d.target.y - d.source.y,
      dr = Math.sqrt(dx * dx + dy * dy);
  return "M" + d.source.x + "," + d.source.y + "A" + "0" + "," + "0" + " 0 0,1 " + d.target.x + "," + d.target.y;
}

function transform(d) {
  return "translate(" + d.x + "," + d.y + ")";
}

function dragstart(d) {
  d.fixed = true;
  d3.select(this);
}

</script>
</body>
</html>
