<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Atwell - Nagymaros 2019</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/simple.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );

			var full_width = window.innerWidth;
			var full_height = window.innerHeight;

			function title_it(){
				self.innerHTML = "Atwell and Padgett - Niche Construction in the Hypercycle";
			}

			function resize(self) {
				self.style.width = full_width*.95 +"px";
				self.style.height = full_height*.75+"px";

			}
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
				<section data-background-image="images/Nagymaros/stromatolite3.jpg" data-background-opacity=.75>
					<div style="color:white;font-weight:400;font-size:1em">
						<p style="font-size:1em">The Importance of Niches for Innovation: Combining Hypercyclic Self-organization and Niche Construction Dynamics</p>
						<p style="font-size:.6em">Jon Atwell and John Padgett</p>
					</div>
				</section>

				<section>
					<aside class="notes">
						presentation today builds on work of Padgett, 20+ years exploring chemistry - metaphor and/or framework - for emergence of economic and social organization.<br><br>

						Some familiar with book, w/ Woody Powell.
						juicy empirical chapters in 2/3, w/ proposed mechanisms for the origin of novelty, - process of recombination of existing components.<br><br>
						Don't need to know the details<br>
						Viability of those mechanisms and the probability of them operating in any given setting depends fundamentally on the "chemistry" of recombination.<br><br>
						So I'll give you background on the chemistry framework and its limitations. Then I'll discuss how modeling the dynamics of the resource environment can bring realism and actually overcome the crucial limitation of the basic framework.
					</aside>
					<img class="plain" src="images/Nagymaros/PadgettPowell.jpg">
				</section>



					<section>
						<aside class="notes">
							Now we are talking about novelty as recombination and the prefered metaphor for talking about recombination is generally biology. Sexual reproduction is a uniquely powerful generator of novelty over long time scales,  BUT it presupposes DNA and organisms and if we're interested in understanding the self-organization of new social organisms...if you will...then we're in the pre-biology world, the world of chemistry trying to get to biology.

							This is the so-called "origins of life" puzzle of how DNA came to be. Evolution begins with DNA and ithout DNA's capacity to store information and replicate it, there is no selection and no evolution.


							DNA is a self-reproducing macro-molecule that serves as a repository of information about the organism and its relationship to its environment. So the puzzle in the "origins of life" literature is where did DNA come from?
						</aside>

						<h4>Before evolution is emergence</h4>
					</section>


					<section>
						<aside class="notes">
						And it is a real puzzle because DNA is a macromolecule and macromolecules are the things that make other macromolecules. (Click) So it's a chicken and egg problem until we answer the question of what mechanisms and conditions can aggregate the information contained in a macromolecule like DNA so that complex forms and organisms can take hold in the face of entropic forces pushing toward disorder.
						</aside>

						<p>Macro-molecules like DNA create macro-molecules</p>
						<p class="fragment fade-in" data-fragment-index=1> But where did the first macro-molecules come from?</p>



					</section>

					<section>
						<aside class="notes">
							That is not a problem for social scientists to solve, but I think John Padgett was right to look to research on this problem to understand possible solutions or at least the nature and bounds of the problem incipient organization. A major breakthrough was Eigen and Schuster's proposal to think about species of macromolecules like DNA as being comprised of quasi-species (in their case, actual chemical monomers).<br><br>

							Here is a sentence they work with, a species if you will. <br><br>The unit we are interested in is the whole sentence, it's a sort of macromolecule, the new organism. Once it's DNA-like, it will reproduce itself and might be robust in the face of error prone reproduction. But we're saying it doesn't have that capability yet.



						</aside>
						<svg width="500" height="500">
							<circle cx="250" cy="250" r="200" stroke="white" stroke-width="3" fill="black"/>
							<text x="250" y="250" fill="white" style="font-size:.6em;font-weight:300;text-anchor:middle;dominant-baseline:central;" z-index=100>TAKE ADVANTAGE OF MISTAKE</text>
							<circle cx="250" cy="50" r="20" stroke="black" fill="black"/>
							<text x="234" y="49" style="font-weight:300;font-size:1.25em;text-anchor:middle;dominant-baseline:central;fill:white" >➔</text>
						</svg>

						<p style="font-size:.5em;position:fixed;display:block;left:20px"> Eigen and Schuster (1977, 1978)
						</p>

					</section>

					<section>
						<aside class="notes">
							Instead reproduction occurs at level of the word or chemical monomers.<br><br>

							When we're interested in a species like the whole sentence, but we have to deal with the word, or what Eigen and Schuster call the quasi-species.<br><br>

							But if reproduction is happening at the level of the word and is error prone (all chemical reproduction is), the information contained in the sentence would quickly be lost and a single degenerate sentence would come to dominate.

							I'll show you why.
						</aside>

						<img class="plain" src="images/Nagymaros/TAKE_NOLINK.png">
					</section>


					<section>
						<aside class="notes">
							Here is a population of monomers that contains the information that is the whole sentence, the species of interest. We want to maintain over time all of the monomers types. Let's bracket out how this population came into existence and just play out the reproduction dynamics.

							<br><br> Here is a column of the original population that can together function as the sentence. There are 4 types of and a total of 16 monomers. Reproduction is autocatalytic, meaning each word catalytizes its own replication, but again this is error prone.

							In generation 2, we see two mistakes introduced in reproduction. Mistakes make the monomers unviable. but another monomer successfully reproduces. Repeat. Clearly I'm biasing heavily toward "MISTAKE", but over time one will outcompete all others just by chance.
						</aside>
						<table style="font-size:.5em">
							<tr><th>T=0</th><th class="fragment" data-fragment-index=1>T=1</th><th class="fragment" data-fragment-index=2>T=2</th><th class="fragment" data-fragment-index=3>T=3</th><th class="fragment" data-fragment-index=4>T=4</th><th></th><th class="fragment" data-fragment-index=6>T=inf.</th></tr>
							<tr><td>TAKE</td><td class="fragment" data-fragment-index=1>TAKE</td><td class="fragment" data-fragment-index=2>TAKE</td><td class="fragment" data-fragment-index=3>T<span style="color:red"><strong>O</strong></span>KE</td><td class="fragment" data-fragment-index=4 style="color:lightgreen">MISTAKE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>TAKE</td><td class="fragment" data-fragment-index=1>TAKE</td><td class="fragment" data-fragment-index=2>TAKE</td><td class="fragment" data-fragment-index=3>TAKE</td><td class="fragment" data-fragment-index=4>TAKE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>TAKE</td><td class="fragment" data-fragment-index=1>TA<span style="color:red"><strong>X</strong></span>E</td><td class="fragment" data-fragment-index=2 style="color:lightgreen">MISTAKE</td><td class="fragment" data-fragment-index=3 style="color:lightgreen">MISTAKE</td><td class="fragment" data-fragment-index=4 style="color:lightgreen">MISTAKE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>TAKE</td><td class="fragment" data-fragment-index=1>TAKE</td><td class="fragment" data-fragment-index=2>TAKE</td><td class="fragment" data-fragment-index=3>TAKE</td><td class="fragment" data-fragment-index=4>TAKE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>ADVANTAGE</td><td class="fragment" data-fragment-index=1>ADVANTAGE</td><td class="fragment" data-fragment-index=2>ADVANTAGE</td><td class="fragment" data-fragment-index=3>AD<span style="color:red"><strong>K</strong></span>ANTAGE</td><td class="fragment" data-fragment-index=4 style="color:lightgreen">MISTAKE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>ADVANTAGE</td><td class="fragment" data-fragment-index=1>ADVANTAGE</td><td class="fragment" data-fragment-index=2>ADVANTAGE</td><td class="fragment" data-fragment-index=3>ADVANTAGE</td><td class="fragment" data-fragment-index=4>ADVANTAGE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>ADVANTAGE</td><td class="fragment" data-fragment-index=1>ADVANTAGE</td><td class="fragment" data-fragment-index=2>ADVANTAGE</td><td class="fragment" data-fragment-index=3>ADVANTAGE</td><td class="fragment" data-fragment-index=4>ADVANTAGE</td><td class="fragment" data-fragment-index=5><strong>...</strong></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>ADVANTAGE</td><td class="fragment" data-fragment-index=1>ADVANTAGE</td><td class="fragment" data-fragment-index=2>ADVANTAGE</td><td class="fragment" data-fragment-index=3>ADVANTAGE</td><td class="fragment" data-fragment-index=4>ADVANTAGE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>OF</td><td class="fragment" data-fragment-index=1>O<span style="color:red"><strong>R</strong></span></td><td class="fragment" data-fragment-index=2 style="color:lightgreen">MISTAKE</td><td class="fragment" data-fragment-index=3 style="color:lightgreen"><span style="color:red"><strong>N</strong></span>ISTAKE</td><td class="fragment" data-fragment-index=4 style="color:lightgreen">MISTAKE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>OF</td><td class="fragment" data-fragment-index=1>OF</td><td class="fragment" data-fragment-index=2>OF</td><td class="fragment" data-fragment-index=3>OF</td><td class="fragment" data-fragment-index=4>OF</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>OF</td><td class="fragment" data-fragment-index=1>OF</td><td class="fragment" data-fragment-index=2>OF</td><td class="fragment" data-fragment-index=3>OF</td><td class="fragment" data-fragment-index=4>OF</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>OF</td><td class="fragment" data-fragment-index=1>OF</td><td class="fragment" data-fragment-index=2>OF</td><td class="fragment" data-fragment-index=3>OF</td><td class="fragment" data-fragment-index=4>OF</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>MISTAKE</td><td class="fragment" data-fragment-index=1>MISTAKE</td><td class="fragment" data-fragment-index=2>MISTAKE</td><td class="fragment" data-fragment-index=3>MISTAKE</td><td class="fragment" data-fragment-index=4>MISTAKE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>MISTAKE</td><td class="fragment" data-fragment-index=1>MISTAKE</td><td class="fragment" data-fragment-index=2>MISTAKE</td><td class="fragment" data-fragment-index=3>MISTAKE</td><td class="fragment" data-fragment-index=4>MISTAKE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>MISTAKE</td><td class="fragment" data-fragment-index=1>MISTAKE</td><td class="fragment" data-fragment-index=2>MISTAKE</td><td class="fragment" data-fragment-index=3>MISTAKE</td><td class="fragment" data-fragment-index=4>MISTAKE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
							<tr><td>MISTAKE</td><td class="fragment" data-fragment-index=1>MISTAKE</td><td class="fragment" data-fragment-index=2>MISTAKE</td><td class="fragment" data-fragment-index=3>MISTAKE</td><td class="fragment" data-fragment-index=4>MISTAKE</td><td></td><td class="fragment" data-fragment-index=6 style="color:lightgreen">MISTAKE</td></tr>
						</table>



					</section>
					<section>
						<aside class="notes">These reproductive dynamics are independent. Each word monomer is catalyzing itself.</aside>
						<img class="plain" src="images/Nagymaros/TAKE_NOLINK.png">
					</section>

					<section>
						<aside class="notes">
							Eigen and Schuster's insight was that the monomers catalyzing each other might help balance reproduction to be error correcting. In this picture, the reproduction of a given monomer is catalyzed by another molecule. When the relationships are in a cycle like this, what they call the hypercycle. These interdependencies might make the whole species, the sentence, auto-catalyzing or self-reproducing.

						</aside>
						<img class="plain" src="images/Nagymaros/TAKE_CYCLE.png">
					</section>

					<section>
						<aside class="notes">
							Here you can see the dynamics of that system, as reported by Eigen and Schuster in their original work.
						</aside>
						<img class="plain" src="images/Nagymaros/TAKEADVANTAGE.png">
					</section>

					<section>
						<aside class="notes">
							The population dynamics is easy to write out.
							<br><br>the monomers of the word TAKE are catalysized by one of the word ADVANTAGE.

							<br><br> so the growth in the population of TAKEs is proportional to the fraction each occupies in the total population. (In well-mixed solutions, that fraction is often called the concentration of the type.)
						</aside>
						<p><span>$TAKE_{t+1} = \frac{TAKE_t}{ALL} * \frac{ADVANTAGE_t}{ALL}$</span><span class="fragment" data-fragment-index=1>$ - \frac{TAKE_t}{ALL} * totalgrowth$</span></p>
						<p class="fragment" data-fragment-index=2>$ADVANTAGE_{t+1} = \frac{ADVANTAGE_t}{ALL} * \frac{OF_t}{ALL} - \frac{ADVANTAGE_t}{ALL} * totalgrowth$</p>
						<p class="fragment" data-fragment-index=2>$OF_{t+1} = \frac{OF_t}{ALL} * \frac{MISTAKE_t}{ALL} - \frac{OF_t}{ALL} * totalgrowth$</p>
						<p class="fragment" data-fragment-index=2>$MISTAKE_{t+1} = \frac{MISTAKE_t}{ALL} * \frac{TAKE_t}{ALL} - \frac{MISTAKE_t}{ALL} * totalgrowth$</p>

					</section>

					<section>
						<aside class="notes">More generically we can depict this system like this.</aside>
						<img class="plain" src="images/Nagymaros/Hypercycle.png">
					</section>

					<section>
						<aside class="notes">
							Abstracting away from the example and creating a more generic system, we get this fairly simple differential equation.
						</aside>
							$\dot{r}_i = r_i * r_{i+1} - r_i \sum_{j=1}^N r_j * r_{j+1}$
					</section>


					<section>
						<aside class="notes">And here are the dynamics of the system for different values of N. For a cycle of length 3...that is with 3 different types of monomers...the hypercycle arrangement abates competition between the 3 types and they come in balance. The whole species is stable even with errors in reproduction. Crucially this is true even when the system is out of equilibrium. (The quasi-species, monomers start out with very unbalanced concentrations)
						<br><br> Same is true for N=4. The stable point of the system is the same, each type will eventually reach a concentration of 1/N, but the transcient dynamics are different. Instead of asymptotically approaching in, it has this dampening of sinosidal ossilation.
					<br><br> But N=5 doesn't work. And that's not good because being limited to 4 types is not very complex.
					</aside>
						<img class="plain" src="images/Nagymaros/OriginalHypercycle.png">
					</section>
				</section>



				<section>
					<section>
						<h5>So what gives Jon?</h5>
						<img class="plain" src="images/Nagymaros/thinking.png">
					</section>

					<section>
						<aside class="notes">Because this is not the system we actually want to model.</aside>
						<img class="plain" src="images/Nagymaros/Hypercycle.png">
					</section>

					<section>
						<aside class="notes">
							To map the insights of the hypercycle model to social production, Padgett and collaborators reframed the system as actors and products in a network like this. The actors are actually skills that can be reproduced by new individuals acquiring them. The skills transform the products along the chain of the network. Importantly, the model is embedded in space, unlike the original hypercycle.
						</aside>
						<img class="plain" src="images/Nagymaros/NicheHypercycle.png">

						<br>
						<div class="fragment" data-fragment-index=1 style="font-size:.5em">
							<table>
							<tr><th>Environment types</th><th><span style="width:10em;"></span></th><th>Reproduction types</th></tr>
							<tr><td>poor: all one type</td><td><span style="width:10em"></span></td><td>source:  if type $i$ catalyzed type $i+1$, type $i$ reproduces</td></tr>
						 <tr><td>rich: i.e. all types always available</td><td><span style="width:10em"></span></td><td>target: type $i+1$ reproduces</td></tr>
					 </table>
				 </div>
					</section>

					<section>

						<aside class="notes">
							So how does this model behave?
							A lot to notice about these results:<br>
							Replicates complexity barrier<br>
							Target vs source<br>
							Stigmergy is symmetrical with target and source<br>
							Why I don't like target in economic contexts: payments go backward.
							Why I still don't like target in social context: I could see both, but it is crazy that the initiator wouldn't be rewarded in some way.
							As it happens, because the flow only brings in new instances of the first species, target is a terrible system.
						</aside>
						<p style="font-size:.5em"> Padgett and Powell 2012, p. 78.
						</p>
						<img class="plain" src="images/Nagymaros/PP_soloH.png">


					</section>
				</section>


				<section>
					<section>
						<aside class="notes">
							This system is driven by a reaction that looks like this. It has 3 steps and to calculate the change in the population of a given species, we want to track the reactions of this type. The target rule is selected first, that rule needs to select the right product type and then the right interaction pattern. The probability of each is simply the concentration of the molecule type in the relevant population.
						</aside>
						<h5>Defining the System</h5>
						<table>
							<tr>
								<td style="text-align:center">Step #1</td>
								<td style="text-align:center">Step #2</td>
								<td style="text-align:center">Step #3</td>
							</tr>
							<tr style="height:2em">
								<td style="text-align:center;border: 3px solid white"><p class="fragment" data-fragment-index=1>$R_{1}$</p></td>
								<td style="text-align:center;border: 3px solid white"><p class="fragment" data-fragment-index=2>$P_{1}$</p></td>
								<td style="text-align:center;border: 3px solid white"><p class="fragment" data-fragment-index=3>$R_{2}$</p></td>
							</tr>
							<tr>
								<td class="fragment" data-fragment-index=4 style="text-align:center;font-size:.6em">$Pr(Type = R_1) = \#r_1 / N$</td>
								<td class="fragment" data-fragment-index=5 style="text-align:center;font-size:.6em">$Pr(Type = P_1) = \#p_1 / M$</td>
								<td class="fragment" data-fragment-index=5 style="text-align:center;font-size:.6em">$Pr(Type = R_2) = \#r_2 / N$</td>
							</tr>
						</table>
					</section>

					<!--<section>
						<aside class="notes">
							Chemical kinetics says this can be written as a differential or, for our purposes, difference equation.
						</aside>
						$Pr(\hspace{.075em}\text{rule}\hspace{.25em} R_i \hspace{.25em} \text{reproduces}) = \frac{P_i}{M} * \frac{R_{i+1}}{N}$

						</p>
					</section>-->

					<section>
						<h4> Change in the population of rules ($R_i$)</h4>
						<span>$\Delta R_i = \overbrace{\frac{R_i}{N} * \frac{P_i}{M} * \frac{R_{i+1}}{N}}^\text{growth}$ </span><span class="fragment" data-fragment-index=1>$- \overbrace{\frac{R_i}{N} \sum_{j=1}^N \frac{R_j}{N} * \frac{P_j}{M} * \frac{R_{j+1}}{N}}^\text{death}$</span>

						<p class="fragment" data-fragment-index=2>$R_{i,t+1} = R_{i,t} + \overbrace{\frac{R_{i,t}}{N} * \frac{P_{i,t}}{M} * \frac{R_{i+1,t}} {N}}^\text{growth} - \overbrace{\frac{R_{i,t}}{N} \sum_{j=1}^N \frac{R_{j,t}}{N} * \frac{P_{j,t}}{M} * \frac{R_{j+1,t}}{N}}^\text{death}$</p>

						<p class="fragment" data-fragment-index=3>$\dot{r_i} = \overbrace{r_i p_i r_{i+1}}^\text{growth} - \overbrace{r_i \sum_{j=1}^N r_j p_j r_{j+1}}^\text{death}$</p>
					</section>

					<section>
						<h4> Change in the population of products ($p_i$)</h4><br>
						$\dot{p_{i}} = \overbrace{r_{i-1} p_{i-1}}^\text{incoming} + \overbrace{r_i p_i}^\text{outgoing}$
					</section>

					<section>
						<aside class="notes">
							This system is very robust in that you can have easily have 20 types and it survives. In this sense including the construction of the niche is greatly enhanced the prospects of survival. The environment solves the information crisis because it contains more mutual information about the rest of the cycle than just the cycle itself. It has a feedforward mechanism in addition to the feedback mechanism of the cycle.

						</aside>
						<h5> Leading term dynamics (i.e. no chains)</h5><br>
						<p>$\dot{r_i} = r_i p_i r_{i+1} - r_i \sum_{j=1}^N r_j p_j r_{j+1}$</p>

						<p>$\dot{p_i} = r_{i-1} p_{i-1} - r_i p_i$</p>
					</section>

					<!--<section>


						<aside class="notes">
							We can describe the non-spatial niche constructing system with the following equation. This derivation is a real thing of beauty, but chemical kinetics says the leading terms dominate the dynamics. Our side by side comparisons show this to be true.
						</aside>

						<h5>Full dynamics (i.e. with chains)</h5><br>
						<p>$\dot{r_i} = \frac{r_i*r_{i+1}}{1-\prod_{j=1}^{N} r_j} * \bigg(p_i + \displaystyle\sum_{k=1}^{N-1}\bigg[p_{i+k}\prod_{h=i+k}^{N-1+i} r_h\bigg]\bigg) - r_i*\bar{f}$</p>
						<p>$\bar{f} = \sum r_j$</p>

						<p>$\dot{p_i} = \frac{r_{i+1}(1-r_i)}{1-\prod_{j=1}^{N} r_j}\bigg(p_{i+1} + \displaystyle\sum_{k=i}^{N-2+i}\bigg[p_k \prod_{h=k}^{N-2+i} r_h\bigg]\bigg)\\ - \frac{r_i(1-r_{i+1})}{1-\prod_{j=1}^{N}r_j}\bigg(p_i + \displaystyle\sum_{k=i+1}^{N-1+i}\bigg[p_k\prod_{h=k}^{N-1+i}r_h\bigg]\bigg)$</p>
					</section>-->



					<section>
						<img class="plain" src="images/Nagymaros/NicheHypercycle_curves_cap1.png">

					</section>

					<section>
						<svg width=650 height=500>

							<line x1="300" y1="400" x2="468" y2="251" stroke="white" stroke-width="4"/>
							<line x1="300" y1="350" x2="168" y2="251" stroke="white" stroke-width="4"/>
							<line x1="238" y1="50" x2="425" y2="50" stroke="white" stroke-width="4"/>
							<line x1="465" y1="87" x2="500" y2="225" stroke="white" stroke-width="4"/>
							<line x1="186" y1="87" x2="150" y2="225" stroke="white" stroke-width="4"/>

							<circle cx="200" cy="50" r="40" stroke="white" stroke-width="3" fill="black"/>
									<text x="200" y="50" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >4➔5</text>
									<text x="125" y="15" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >3/32</text>

						 <circle cx="450" cy="50" r="40" stroke="white" stroke-width="3" fill="black"/>
									<text x="450" y="50" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >3➔4</text>
									<text x="515" y="15" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1/8</text>


							<circle cx="150" cy="225" r="40" stroke="white" stroke-width="3" fill="black"/>
									<text x="150" y="225" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >5➔1</text>
									<text x="100" y="275" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1/32</text>


							<circle cx="500" cy="225" r="40" stroke="white" stroke-width="3" fill="black"/>
									<text x="500" y="225" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >2➔3</text>
									<text x="550" y="275" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1/4</text>

							<circle cx="325" cy="375" r="40" stroke="white" stroke-width="3" fill="black"/>
									<text x="325" y="375" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>
									<text x="325" y="450" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1/2</text>
									<text x="437" y="375" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central">Most Probable</text>
									<text x="260" y="225" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central">Least Probable</text>

						</section>

						<section>
							<svg width=650 height=500>

								<line x1="300" y1="400" x2="468" y2="251" stroke="white" stroke-width="4"/>
								<line x1="190" y1="325" x2="168" y2="251" stroke="white" stroke-width="4"/>
								<line x1="300" y1="375" x2="225" y2="350" stroke="white" stroke-width="4"/>
								<line x1="238" y1="50" x2="425" y2="50" stroke="white" stroke-width="4"/>
								<line x1="465" y1="87" x2="500" y2="225" stroke="white" stroke-width="4"/>
								<line x1="186" y1="87" x2="150" y2="225" stroke="white" stroke-width="4"/>

								<circle cx="200" cy="50" r="40" stroke="white" stroke-width="3" fill="black"/>
										<text x="200" y="50" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >4➔5</text>
										<text x="125" y="15" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >3/32</text>

							 <circle cx="450" cy="50" r="40" stroke="white" stroke-width="3" fill="black"/>
										<text x="450" y="50" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >3➔4</text>
										<text x="515" y="15" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1/8</text>


								<circle cx="150" cy="225" r="40" stroke="white" stroke-width="3" fill="black"/>
										<text x="150" y="225" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >5➔1</text>
										<text x="100" y="275" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1/32</text>


								<circle cx="500" cy="225" r="40" stroke="white" stroke-width="3" fill="black"/>
										<text x="500" y="225" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >2➔3</text>
										<text x="550" y="275" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1/4</text>

								<circle cx="325" cy="375" r="40" stroke="white" stroke-width="3" fill="black"/>
										<text x="325" y="375" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>
										<text x="325" y="450" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1/2</text>

							<circle cx="200" cy="350" r="25" stroke="white" stroke-width="3" fill="black"/>
												<text x="200" y="350" stroke="white" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1</text>


							</section>


				</section>



				<section>

					<section>
						<h3>Defining a Niche</h3>
						<aside class="notes"> So what we've been talking about has been a very flat idea of an environment. In chemistry terms, it is in a closer reactor. It's a closed system and would be thermodynamically dead. So let's open it up!
						</aside>
						<h5>Closed Reactor</h5>
						<p> Rule = <svg width=26 height=26><circle cx="14" cy="14" r="10" stroke="lightgray" stroke-width="3" fill="lightgray"/></svg> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Product = <svg width=26 height=26><circle cx="14" cy="14" r="10" stroke="lightgreen" stroke-width="3" fill="lightgreen"/></svg></p>
						<svg width="400" height="400">
  							<rect width="400" height="400" style="fill:rgb(0,0,0);stroke-width:10;stroke:rgb(255,255,255)" />

							<circle cx="50" cy="50" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="50" y="50" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="300" cy="75" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="300" y="75" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="370" cy="200" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="370" y="200" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="50" cy="175" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="50" y="175" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="370" cy="300" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="370" y="300" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="200" cy="200" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="200" y="200" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="125" cy="350" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="125" y="350" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>

							<circle cx="275" cy="300" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="275" y="300" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>

							<circle cx="220" cy="50" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="220" y="50" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>

							<circle cx="200" cy="105" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="200" y="105" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="75" cy="305" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="75" y="305" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="150" cy="205" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="150" y="205" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="320" cy="325" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="320" y="325" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="340" cy="165" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="340" y="165" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="50" cy="115" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="50" y="115" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="360" cy="35" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="360" y="35" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="200" cy="365" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="200" y="365" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="150" cy="45" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="150" y="45" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

						</svg>
					</section>

					<section>


						<aside class="notes">
						</aside>
						<h5>Flow Reactor</h5>
						<p> Rule = <svg width=26 height=26><circle cx="14" cy="14" r="10" stroke="lightgray" stroke-width="2" fill="lightgray"/></svg> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Product = <svg width=26 height=26><circle cx="14" cy="14" r="10" stroke="lightgreen" stroke-width="3" fill="lightgreen"/></svg></p>
						<svg width="700" height="420">


  							<rect width="400" height="400" x="150" y="5" style="fill:rgb(0,0,0);stroke-width:10;stroke:rgb(255,255,255)" />


							<line style="stroke-width:12;stroke:black;" x1="150" x2="150" y1="175" y2="225"  />

							<line style="stroke-width:12;stroke:black;" x1="550" x2="550" y1="175" y2="225"  />

							<line style="stroke-width:12;stroke:white;" x1="100" x2="155" y1="175" y2="175"  />

							<line style="stroke-width:12;stroke:white;" x1="100" x2="155" y1="225" y2="225"  />

							<text x="125" y="200" stroke="white" fill="white" style="font-size:1.5em;text-anchor:middle;dominant-baseline:central" >➔</text>

							<text x="95" y="200" stroke="white" fill="white" style="font-size:1em;text-anchor:middle;dominant-baseline:central;font-weight:400" >f</text>

							<line style="stroke-width:12;stroke:white;" x1="545" x2="600" y1="175" y2="175"  />

							<line style="stroke-width:12;stroke:white;" x1="545" x2="600" y1="225" y2="225"  />

							<text x="575" y="200" stroke="white" fill="white" style="font-size:1.5em;text-anchor:middle;dominant-baseline:central" >➔ </text>

							<text x="605" y="200" stroke="white" fill="white" style="font-size:1em;text-anchor:middle;dominant-baseline:central;font-weight:400" >f</text>


							<circle cx="50" cy="155" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="50" y="155" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="65" cy="205" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="65" y="205" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="635" cy="240" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="635" y="240" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="650" cy="155" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="650" y="155" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="665" cy="205" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="665" y="205" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="35" cy="240" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="35" y="240" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>


							<circle cx="200" cy="50" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="200" y="50" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="450" cy="75" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="450" y="75" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="520" cy="200" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="520" y="200" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="200" cy="175" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="200" y="175" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="520" cy="300" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="520" y="300" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="350" cy="200" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="350" y="200" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="275" cy="350" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="275" y="350" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>

							<circle cx="425" cy="300" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="425" y="300" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>

							<circle cx="370" cy="50" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="370" y="50" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>

							<circle cx="350" cy="105" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="350" y="105" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="225" cy="305" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="225" y="305" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="300" cy="205" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="300" y="205" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="470" cy="325" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="470" y="325" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="490" cy="165" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="490" y="165" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="200" cy="115" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="200" y="115" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="510" cy="35" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="510" y="35" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="350" cy="365" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="350" y="365" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="300" cy="45" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="300" y="45" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

						</svg>


					</section>

					<section>


						<aside class="notes">
						</aside>
						<h5>Flow Reactor with single resource input</h5>
						<p> Rule = <svg width=26 height=26><circle cx="14" cy="14" r="10" stroke="lightgray" stroke-width="2" fill="lightgray"/></svg> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Product = <svg width=26 height=26><circle cx="14" cy="14" r="10" stroke="lightgreen" stroke-width="3" fill="lightgreen"/></svg></p>
						<svg width="700" height="420">


  							<rect width="400" height="400" x="150" y="5" style="fill:rgb(0,0,0);stroke-width:10;stroke:rgb(255,255,255)" />


							<line style="stroke-width:12;stroke:black;" x1="150" x2="150" y1="175" y2="225"  />

							<line style="stroke-width:12;stroke:black;" x1="550" x2="550" y1="175" y2="225"  />



							<line style="stroke-width:12;stroke:white;" x1="100" x2="155" y1="175" y2="175"  />

							<line style="stroke-width:12;stroke:white;" x1="100" x2="155" y1="225" y2="225"  />

							<text x="125" y="200" stroke="white" fill="white" style="font-size:1.5em;text-anchor:middle;dominant-baseline:central" >➔</text>

							<text x="95" y="200" stroke="white" fill="white" style="font-size:1em;text-anchor:middle;dominant-baseline:central;font-weight:400" >f</text>

							<line style="stroke-width:12;stroke:white;" x1="545" x2="600" y1="175" y2="175"  />

							<line style="stroke-width:12;stroke:white;" x1="545" x2="600" y1="225" y2="225"  />

							<text x="575" y="200" stroke="white" fill="white" style="font-size:1.5em;text-anchor:middle;dominant-baseline:central" >➔ </text>

							<text x="605" y="200" stroke="white" fill="white" style="font-size:1em;text-anchor:middle;dominant-baseline:central;font-weight:400" >f</text>


							<circle cx="50" cy="155" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="50" y="155" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="65" cy="205" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="65" y="205" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="35" cy="240" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="35" y="240" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="635" cy="240" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="635" y="240" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="650" cy="155" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="650" y="155" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="665" cy="205" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="665" y="205" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>




							<circle cx="200" cy="50" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="200" y="50" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="450" cy="75" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="450" y="75" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="520" cy="200" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="520" y="200" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="200" cy="175" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="200" y="175" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="520" cy="300" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="520" y="300" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="350" cy="200" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="350" y="200" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="275" cy="350" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="275" y="350" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>

							<circle cx="425" cy="300" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="425" y="300" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>

							<circle cx="370" cy="50" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="370" y="50" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>



							<circle cx="350" cy="105" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="350" y="105" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="225" cy="305" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="225" y="305" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="300" cy="205" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="300" y="205" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="470" cy="325" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="470" y="325" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="490" cy="165" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="490" y="165" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="200" cy="115" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="200" y="115" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="510" cy="35" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="510" y="35" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="350" cy="365" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="350" y="365" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="300" cy="45" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="300" y="45" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

						</svg>


					</section>

					<section>


						<aside class="notes">
						</aside>
						<h5>Flow Reactor with/out abundance</h5>
						<p> Rule = <svg width=26 height=26><circle cx="14" cy="14" r="10" stroke="lightgray" stroke-width="2" fill="lightgray"/></svg> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Product = <svg width=26 height=26><circle cx="14" cy="14" r="10" stroke="lightgreen" stroke-width="3" fill="lightgreen"/></svg></p>
						<svg width="700" height="420">


  							<rect width="400" height="400" x="150" y="5" style="fill:rgb(0,0,0);stroke-width:10;stroke:rgb(255,255,255)" />


							<line style="stroke-width:12;stroke:black;" x1="150" x2="150" y1="175" y2="225"  />

							<line style="stroke-width:12;stroke:black;" x1="550" x2="550" y1="175" y2="225"  />



							<line style="stroke-width:12;stroke:white;" x1="100" x2="155" y1="175" y2="175"  />

							<line style="stroke-width:12;stroke:white;" x1="100" x2="155" y1="225" y2="225"  />

							<text x="125" y="200" stroke="white" fill="white" style="font-size:1.5em;text-anchor:middle;dominant-baseline:central" >➔</text>

							<text x="95" y="200" stroke="white" fill="white" style="font-size:1em;text-anchor:middle;dominant-baseline:central;font-weight:400" >f</text>

							<line style="stroke-width:12;stroke:white;" x1="545" x2="600" y1="175" y2="175"  />

							<line style="stroke-width:12;stroke:white;" x1="545" x2="600" y1="225" y2="225"  />

							<text x="575" y="200" stroke="white" fill="white" style="font-size:1.5em;text-anchor:middle;dominant-baseline:central" >➔ </text>

							<text x="605" y="200" stroke="white" fill="white" style="font-size:1em;text-anchor:middle;dominant-baseline:central;font-weight:400" >f</text>


							<circle cx="50" cy="155" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="50" y="155" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="65" cy="205" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="65" y="205" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="35" cy="240" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="35" y="240" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="635" cy="240" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="635" y="240" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="650" cy="155" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="650" y="155" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="665" cy="205" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="665" y="205" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>




							<circle cx="200" cy="50" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="200" y="50" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="450" cy="75" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="450" y="75" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="520" cy="200" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="520" y="200" style="font-size:.45em;text-anchor:middle;dominant-baseline:central" >1➔2</text>

							<circle cx="200" cy="175" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="200" y="175" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="520" cy="300" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="520" y="300" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="350" cy="200" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="350" y="200" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2➔3</text>

							<circle cx="275" cy="350" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="275" y="350" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>

							<circle cx="425" cy="300" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="425" y="300" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>

							<circle cx="370" cy="50" r="20" stroke="lightgray" stroke-width="3" fill="lightgray"/>
							<text x="370" y="50" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3➔1</text>



							<circle cx="350" cy="105" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="350" y="105" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="225" cy="305" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="225" y="305" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="300" cy="205" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="300" y="205" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="470" cy="325" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="470" y="325" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="490" cy="165" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="490" y="165" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="200" cy="115" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="200" y="115" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="510" cy="35" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="510" y="35" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="350" cy="300" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="350" y="300" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="300" cy="45" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="300" y="45" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>





							<circle cx="510" cy="370" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="510" y="370" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="190" cy="225" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="190" y="225" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="245" cy="255" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="245" y="255" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="300" cy="155" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="300" y="155" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="470" cy="255" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="470" y="255" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="420" cy="145" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="420" y="145" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>2</text>

							<circle cx="410" cy="235" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="410" y="235" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>1</text>

							<circle cx="365" cy="365" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="365" y="365" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>

							<circle cx="180" cy="365" r="20" stroke="lightgreen" stroke-width="3" fill="lightgreen"/>
							<text x="180" y="365" style="font-size:.45em;text-anchor:middle;dominant-baseline:central;" z-index=100>3</text>





						</svg>


					</section>

					<section>
						<img class="plain" width=600 src="images/Nagymaros/NicheHypercycleCurves.png">

					</section>


					<section>
						<aside class="notes">
							So here is the final difference equation representing a model of a niche constructing hypercycle. <br> As it happens, it contains the same elements as a very influential model of niche consruction from evolutionary biology.
						</aside>
						<h4>Final Difference Equations</h4>
						<p>$ R_{i,t+1} = R_{i,t} + r_{i,t} p_{i,t} r_{i+1,t} - r_{i,t}\sum_{j=1}^N r_{i,t} p_{i,t} r_{i+1,t}$</p>
						<p>$ P_{i,t+1} = P_{i,t} + (1-F)[r_{i-1,t} p_{i-1,t} - r_{i,t} p_{i,t}] - F[p_{i,t} - p_{i,0}]$
						</p>
						<br> <h4>With initial conditions</h4>
						<p>$R_{i,0} = [R_{1,0}, R_{2,0},...,R_{n,0}]$</p>
						<p>$P_{i,0} = [\sigma * \sum_{i=1}^n R_{i,0}, 0,...,0]$</p>

					</section>

					<section>
						<aside class='notes'>
							What you see here is just the equation that models the dynamics of the endogenously formed environment. Missing is the set of equations and constrains defining the process of gametic recursive, the production of allele. There is just a single product. Lambda 3 is exogenous growth. Lambda two is mathematically equivalent to the ratio between the rule and product population sizes. Gamma is anti-niche constructing (consumption of resource) and 1- lambda 1 is the flow out of the environment. implies lamdba 1 is just what stays.
						</aside>
						<h4> The Niche Construction Model</h4>
						<h6>Laland, Odling-Smee, and Feldman (1999)</h6><br>
						<p>$R_t = \overbrace{\underbrace{\lambda_1}_\text{outflow} R_{t-1}\underbrace{(1 - \gamma p)}_\text{consumption}}^\text{loss} + \overbrace{\lambda_2 p}^\text{growth} + \overbrace{\lambda_3}^\text{inflow}$</p>

						<p>$0 \leq \gamma, \lambda_1, \lambda_2, \lambda_3 \leq 1$</p>
						<p>$0 < \lambda_1 + \lambda_2 + \lambda_3 < 1$</p>

					</section>

				</section>

				<section>
					<!--<section>
						<aside class="notes">Now, there are many different types on interior equilibria and some on them look a lot like boundary equibilibria. One is starting on balance We impose a boundary delta in the evaluation of stability.
						</aside>
						<img src="images/Nagymaros/OriginalHypercycle.png" class="plain" style="height:600px">
					</section>-->

					<section>
						<h4> Conditions for Stability Analysis</h4>
						<br>
						<p>$r_{i,0} = [Total-(N-1)*50,50,...,50]$</p>
						<p>$p_{i,0} = [\sigma * Total, 0, ..., 0]$</p>
						<p>$\text{Boundary } \delta = .001$</p>
					</section>

					<section>
						<aside class="notes">
						</aside>
						<h5> $N=5, \sigma=1, F=0$</h5>
						<img class="plain" src="images/Nagymaros/5-0-1.png">

					</section>

					<section>
						<aside class="notes">
							This one has a very high flow rate and the system is dead.
						</aside>
						<h5> $N=5, \sigma=1, F=0.5$</h5>
						<img class="plain" src="images/Nagymaros/5-0-.5.png">

					</section>

					<section>
						<aside class="notes">
							When the flow is not so high, it still works.
						</aside>
						<h5> $N=5, \sigma=1, F=0.08$</h5>
						<img class="plain" src="images/Nagymaros/5-.08-1.png">

					</section>

					<section>
						<aside class="notes">
							Let's look at the capacity variable again. We're increasing the number of rules to products. That is we're starving the system. And it helps the system. It amplifies the feedforward mechanisms.
						</aside>
						<h5> $N=5, \sigma=2, F=0$</h5>
						<img class="plain" src="images/Nagymaros/5-0-2.png">

					</section>


					<section>
						<aside class="notes">
							When we add more, it hurts the system. It takes too long for the changes to accumulate in the environment and dampens the feedback.
						</aside>
						<h5> $N=5, \sigma=.5, F=0$</h5>
						<img class="plain" src="images/Nagymaros/5-0-.5.png">

					</section>


					<section>
						<aside class="notes">
							As we increase the ratio, we can increase the flow rate.
						</aside>
						<h5> $N=5, \sigma=3, F=0.15$</h5>
						<img class="plain" src="images/Nagymaros/5-.15-3.png">

					</section>


					<section>
						<aside class="notes">
						</aside>
						<h5> $N=8, \sigma=1, F=0$</h5>
						<img class="plain" src="images/Nagymaros/8-0-1.png">

					</section>

					<section>
						<aside class="notes">
						</aside>
						<h5> $N=8, \sigma=3, F=0$</h5>
						<img class="plain" src="images/Nagymaros/8-0-3.png">

					</section>

					<section>
						<aside class="notes">
						</aside>
						<h5> $N=8, \sigma=3, F=0.05$</h5>
						<img class="plain" src="images/Nagymaros/8-.05-3.png">

					</section>

					<section>
						<aside class="notes">
							Here is the plot for parameter combinations. The color corresponds to the highest flow rate for which the cycle survives. Given example.
						</aside>
						<img class="plain" src="images/Nagymaros/Figure 2.png">

					</section>

					<section>
						<aside class="notes">
							The flow is constant be the activity among the rules and cells is endogenous. Here is the ratio of the flow rate over the death rate. Might be a tad more impressive.
						</aside>
						<img class="plain" src="images/Nagymaros/Figure_3.png">

					</section>

					<section>
						<h4>Thank you!</h4>
						<br><br>
						<h5>atwell@stanford.edu</h5>
					</section>
				</section>



			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				controlsTutorial: false,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/math/math.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad();}}
				],
				math: {
					mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
					config: 'TeX-AMS_HTML-full'
				},
			});
			Reveal.addEventListener( 'fragmentshown', function( event ) {
				//event.fragment = the fragment DOM element
			} );

		</script>
	</body>
</html>
